<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>FlashBring ‚Äî Maison</title>
<!-- ajoute √ßa comme dans cart.html -->
  <script src="/utils/api.js"></script>
  <script src="/js/cart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
<style>
:root{
      --bg:#ffffff;
      --ink:#0f0f0f;
      --muted:#6b6b6b;
      --line:#eaeaea;
      --card:#fafafa;   
      --brand:#111111;
      --radius:18px;
      --shadow:0 10px 30px rgba(0,0,0,.06);
    } 
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.5 Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
  
 /* Header */
    header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.8);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;height:68px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800}
    .brand-badge{width:36px;height:36px;border-radius:10px;display:grid;place-items:center;background:#111;color:#fff}
    .tagline{display:none;color:var(--muted)}
    .actions{display:flex;gap:10px}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--ink);padding:10px 14px;border-radius:12px;background:#111;color:#fff;font-weight:600;cursor:pointer}
    .btn.ghost{background:#fff;color:#111}
    .btn:active{transform:translateY(1px)}

.sidebar {
  position: fixed;
  top: 0;
  right: -100%;          /* cach√© en dehors de l‚Äô√©cran */
  width: 100%;
  max-width: 300px;      /* üëâ r√©duit la largeur comme Uber */
  height: 100vh;         /* üëâ prend toute la hauteur de la page */
  background: #fff;     
  box-shadow: -2px 0 8px rgba(0,0,0,0.15);
  transition: right 0.3s ease;
  z-index: 200;
  display: flex;
  flex-direction: column;   
}
.sidebar.open {
  right: 0;              /* glisse √† l‚Äô√©cran */
} 
 
    
.sidebar-header {
  padding: 16px;
  border-bottom: 1px solid #eee;
  display: flex;
  justify-content: space-between;  
  align-items: center;
  background: #fff;
}

.sidebar-links {
  list-style: none;
  padding: 0;
  margin: 0;
  flex: 1;
  background: #fff;
}
  
.sidebar-links li {
  border-bottom: none;
}
.sidebar-links a {
  display: block;
  padding: 14px 18px;
  font-size: 15px;
  color: #111;
  transition: background 0.2s;
}   

.sidebar-links a:hover {
  background: #f8f8f8;
}
  
  
.close-btn {
  cursor: pointer;
  font-size: 18px;
}
/* Overlay gris transparent sur toute la page */
.sidebar-overlay {
  position: fixed;
  top: 0; 
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.4); /* gris fonc√© transparent */
  z-index: 150;                /* sous le side cart mais au-dessus de tout le reste */
  display: none;               /* cach√© par d√©faut */
} 

.sidebar-overlay.active {
  display: block;
}
  
.sidebar-user {
  padding: 16px;
  border-bottom: 1px solid #eee;
}
#sidebarName {
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 4px;
}
  
.manage-account { 
  font-size: 14px;
  color: #007bff;
  text-decoration: none;
}
.manage-account:hover {
  text-decoration: underline;
}
/* Style sp√©cifique pour "G√©rer le compte" */
.sidebar-links a.manage-account {
  color: #007bff;       /* bleu comme Uber par ex */ 
  font-weight: 600;     /* un peu plus gras */
}


.view .page {
  max-width: 900px;
  margin: 0 auto;      /* centre horizontalement */
  padding: 24px 16px;  /* espace int√©rieur agr√©able */
  box-sizing: border-box;
}



/* Cat√©gories food */ 
.categories {
  display: flex;
  justify-content: space-between;   
  flex-wrap: nowrap;
  gap: 20px;
  margin: 20px 0;
}
  
.cat-item {
  flex: 1;
  text-align: center;
  cursor: pointer;  
  font-size: 24px;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: background 0.2s;
  padding: 10px;
  border-radius: 10px;
}

.cat-item span {
  font-size: 14px;
  margin-top: 5px;
}
 
.cat-item.active {
  background: #f2f2f2;
}
  
  
  
  
.view .page {
  max-width: 900px;   
  margin: 0 auto;      /* centre horizontalement */
  padding: 24px 16px;  /* espace int√©rieur agr√©able */
  box-sizing: border-box;
}



.card {
  flex: 0 0 calc(25% - 12px); /* 4 cartes visibles max */
  box-sizing: border-box;
}

.card img {
  width: 100%;
  height: 150px;      /* tu fixes la hauteur que tu veux */
  object-fit: cover;  /* √©vite la d√©formation */
  border-radius: 16px; /* ‚úÖ arrondit les bords de l‚Äôimage */
}

.card-info {
  padding: 8px 0;       /* juste un petit espace entre image et texte */
}

.card-info h3 {
  margin: 4px 0;
  font-size: 18px;
  font-weight: 600;
}

.card-meta {
  display: flex;
  justify-content: space-between;
  font-size: 14px;
  color: #666;
  margin-top: 4px;
}
  .card-meta span {
    display: flex;
    align-items: center;
    gap: 4px;
  }
  .card-meta .rating {
    color: #ffb400; /* jaune √©toiles */
  }

.card-info p {
  margin: 2px 0;  /* r√©duit l‚Äôespace vertical */
  font-size: 14px;
  color: #444;
}

.carousel {
  width: 100%;
  overflow: hidden;
}
.carousel-track {
  display: flex;
  gap: 16px;
  transition: transform 0.3s ease;
}
.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.carousel-controls button {
  border: none;
  background: transparent; /* plus de fond noir */
  color: #000;             /* couleur noire pour la fl√®che */
  font-size: 28px;         /* taille de la fl√®che */
  cursor: pointer;
  padding: 0;              /* supprime le padding inutile */
  line-height: 1;
}

.carousel-controls button:hover {
  color: #555; /* l√©ger changement au survol */
}

.badge {
  position: absolute;
  top: 8px;
  left: 8px;
  background: red;
  color: white;
  font-size: 0.8rem;
  font-weight: bold;
  padding: 4px 6px;
  border-radius: 6px;
}

.btn.gray {
  background: #f2f2f2;
  color: #111;
  border: 1px solid #ddd;
}
.btn.gray:active {
  transform: translateY(1px);
}

/* --- Di√©t√©tique (style tag gris/noir) --- */
input[type="checkbox"] + label {
  display: inline-flex;
  align-items: center;
  background: #f2f2f2;
  border: 1px solid #ddd;
  border-radius: 12px;
  padding: 8px 14px;
  margin: 4px 6px 4px 0;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.2s ease;
}
input[type="checkbox"]:checked + label {
  background: #111;
  color: #fff;
  border-color: #111;
}

/* --- Distance (style pastilles neutres) --- */
input[type="checkbox"] + label.distance-option {
  border-radius: 20px;
  background: #fff;
  border: 1px solid #999;
  padding: 6px 12px;
  font-size: 13px;
}
input[type="checkbox"]:checked + label.distance-option {
  background: #000;
  color: #fff;
  border-color: #000;
}

/* --- Frais de livraison (style pastilles ‚Ç¨ bleues) --- */
input[type="checkbox"] + label.fee-option {
  border-radius: 50px;
  background: #fff;
  border: 1px solid #1976d2;
  padding: 8px 14px 8px 28px;
  font-size: 14px;
  position: relative;
}
input[type="checkbox"] + label.fee-option::before {
  content: "‚Ç¨";
  position: absolute;
  left: 10px;
  color: #1976d2;
}
input[type="checkbox"]:checked + label.fee-option {
  background: #e3f2fd;
  color: #1976d2;
  font-weight: 600;
}
/* Cache les checkbox / radios natifs */
input[type="checkbox"],
input[type="radio"] {
  display: none;
}
/* Trier options */
.sort-option {
  display: block;
  padding: 10px 12px;
  margin: 5px 0;
  border: 1px solid #ddd;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  font-size: 15px;
}

.sort-option:hover {
  background: #f5f5f5;
}

input[name="sort"] {
  display: none;
}

input[name="sort"]:checked + label {
  background: #2563eb; /* bleu */
  color: #fff;
  border-color: #2563eb;
  font-weight: 600;
}
/* Boutons filtres (bas du sidecart) */
.filters-actions {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  margin-top: 20px;
}

.filters-actions button {
  flex: 1;
  padding: 12px 16px;
  font-size: 15px;
  font-weight: 600;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s ease;
}

/* R√©initialiser */
#resetFilters {
  background: #f2f2f2;
  color: #333;
  border: 1px solid #ddd;
}
#resetFilters:hover {
  background: #e5e5e5;
}

/* Appliquer */
#applyFilters {
  background: #111;
  color: #fff;
  border: 1px solid #111;
}
#applyFilters:hover {
  background: #000;
}
/* Bouton Filtrer */
#openFilters {
  background: linear-gradient(135deg, #111, #333);
  color: #fff;
  border: none;
  border-radius: 14px;
  padding: 12px 20px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.25s ease;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

#openFilters:hover {
  background: linear-gradient(135deg, #000, #222);
  transform: translateY(-2px);
  box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}

#openFilters:active {
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}
  
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

main {
  flex: 1;
}
  
/* Footer */
footer {
  border-top: 1px solid #ddd; /* fine ligne de s√©paration */
  padding: 30px 0;
  color: #666;
  font-size: 14px; 
  background: #fff;
 position: relative; 
} 

footer .container {
  max-width: 1200px;  /* m√™me largeur que la banni√®re et le contenu */
  margin: 0 auto;     /* centre le bloc */
  padding: 0 20px;    /* petit padding horizontal */
}
  
.fcols {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 30px;
}
  
.fcols a{
display:block;
color:var(--muted);
margin: 10px 0;
text-decoration: none;
} 

.copy { 
  margin-top: 15px;
  font-size: 13px;
  color: #999;
}
footer .brand b {  
  font-size: 18px;  
  color: #000; /* ou la couleur de ton choix */
} 
footer .brand + div {
  font-size: 14px;
  color: #666;
  margin-bottom: 10px;
} 
.footer-support {
  position: absolute;
  bottom: 10px;   /* colle en bas */
  right: 20px;    /* colle √† droite */
  text-align: right;
  font-size: 14px;
  color: #000;
}
.badges-wrapper {
  position: absolute;
  top: 8px;
  left: 8px;
  display: flex;
  gap: 6px;
  flex-wrap: nowrap;  /* ‚úÖ m√™me ligne */
}

.badge {
  position: relative;   /* ‚ö†Ô∏è plus de absolute */
  padding: 4px 8px;
  border-radius: 8px;
  font-size: 11px;
  font-weight: 600;
  white-space: nowrap;  /* ‚úÖ √©vite le retour √† la ligne */
}
.badge-horszone { background: #e53935; }      /* rouge */
.badge-partenaire { background: #0070f3; }   /* bleu */
.badge-nouveau { background: #00b341; }      /* vert */
.badge-top { background: #ff9800; }          /* orange */

/* --- Barre de recherche --- */
.search-bar {
  display: flex;   
  gap: 10px;
  margin-bottom: 20px;
}
 
.search-bar input {
  flex: 1;
  padding: 10px 15px;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  outline: none;
  box-shadow: 0 0 0 1px #eee; /* üëâ c'est √ßa qui fait la ligne grise */
}

.search-bar button {  
  background: #ff6b00;
  color: white;
  border: none;
  border-radius: 12px;
  padding: 10px 20px;
  font-size: 16px; 
  cursor: pointer; 
  transition: 0.2s;
}
.search-bar button:hover {
  background: #e55a00;
}
.suggestions-box {
  background: #fff;      
  border: none; 
  border-radius: 8px;
  max-height: 200px;
  overflow-y: auto;
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;  
  z-index: 1000;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15); /* ‚úÖ plus moderne */
}
.suggestions-box div {
  padding: 8px 12px;
  cursor: pointer;
}
.suggestions-box div:hover {
  background: #f5f5f5;
}
.suggestions-box div {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  cursor: pointer;
  border-bottom: 1px solid #eee; /* ‚úÖ s√©parateur */
}

.suggestions-box div:last-child {
  border-bottom: none; /* pas de ligne apr√®s la derni√®re */
}

.suggestions-box img {
  width: 24px;
  height: 24px;
  border-radius: 6px;
  object-fit: cover;
}

.suggestions-box .icon {
  width: 20px;
  height: 20px;
  opacity: 0.6;
}
/* Bouton croix minimaliste */
.clear-btn {
  all: unset;                /* ‚úÖ reset tous les styles h√©rit√©s */
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 18px;
  color: #000;
  cursor: pointer;
  line-height: 1;
}
.clear-btn:hover {
  color: #666;  /* l√©ger changement au survol */
}
/* Force le bouton croix √† √™tre minimaliste */
#clearSearch {
  all: unset;              /* reset tous les styles par d√©faut */
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 18px;
  color: #888;             /* gris neutre */
  cursor: pointer;
  line-height: 1;
}
.store-title {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.heart {
  cursor: pointer;
  font-size: 20px;
  color: gray;
  margin-left: 8px;
  transition: color 0.2s;
}
.heart.active {
  color: black; /* c≈ìur noir quand favori */
}

/* === Popup infos (version pro) === */
#infoPopup {
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.95);
  width: 92%;
  max-width: 420px;
  max-height: 85vh;
  background: #fff;
  border-radius: 20px;
  box-shadow: 0 12px 36px rgba(0,0,0,.25);
  z-index: 300;   
  overflow-y: auto;
  opacity: 0;
  transition: all 0.25s ease;
}
    
#infoPopup.open {
  display: block;
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
}
   
/* Overlay pro */
#infoOverlay {
  display: none;
  position: fixed;
  inset: 0; 
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(3px);
  z-index: 250;
  opacity: 0;
  transition: opacity 0.25s ease;
}
#infoOverlay.active {
  display: block;  
  opacity: 1;
}
  
/* Header popup */
#infoPopup .sidebar-header {
  padding: 18px 20px;
  border-bottom: 1px solid #eee;
  font-weight: 600;
  font-size: 17px;
  background: #fafafa;
  border-top-left-radius: 20px;
  border-top-right-radius: 20px;
}
/* Contenu popup */
#infoPopup .sidebar-content {
  padding: 20px;
  font-size: 15px;
  color: #333;
  line-height: 1.6;
}
#infoPopup strong {
  color: #111; 
}
  
/* Bouton i modernis√© */
.info-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 26px;
  height: 26px;   
  border-radius: 50%;
  border: 1px solid #ccc;
  background: #fff;
  color: #333;
  font-size: 14px;
  font-weight: bold;  
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}
.info-btn:hover {  
  background: #111;
  color: #fff;  
  border-color: #111;
}
  
/* Bouton fermer ‚úï */
#closeInfo {
  cursor: pointer;
  font-size: 18px;
  color: #666;
  transition: color 0.2s ease;
}
#closeInfo:hover {
  color: #000;
}

.filters-bar {
  display: flex;
  justify-content: space-between; /* Filtrer √† gauche, i √† droite */
  align-items: center;
  margin-bottom: 16px; /* petit espace dessous */
}


.coming-soon {
  max-width: 700px;
  margin: 80px auto;
  padding: 30px;
  text-align: center;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.1);
}

.coming-soon h1 {
  font-size: 2rem;
  margin-bottom: 20px;
  color: #333;
}

.coming-soon p {
  font-size: 1.1rem;
  margin-bottom: 15px;
  color: #555;
}

.coming-soon .contact-number {
  font-weight: bold;
  font-size: 1.2rem;
  color: #0077cc;
  text-decoration: none;
}

.coming-soon .contact-number:hover {
  text-decoration: underline;
}

</style>
</head>
<body>
<main>
<div class="page-container">
<!-- Header -->
<header>
  <div class="container nav">
      <a class="brand" href="https://localhost:3000">
      <div class="brand-badge">‚ö°Ô∏è</div>
      <div>  
        <div style="font-size:18px;letter-spacing:-.3px">FlashBring</div>
        <div class="tagline">Tout, livr√© en 2h</div>
      </div>
    </a>
<div class="actions">
<div id="userMenu" style="display:none; position:relative; align-items:center; gap:12px;">
    <span id="welcomeMsg" style="cursor:pointer;font-weight:600;font-size:15px;">
      Bonjour <span id="welcomeName"></span>
    </span>
  </div>
</div>
  
<!-- Overlay gris derri√®re le side cart -->
<div id="sidebarOverlay" class="sidebar-overlay"></div>  
<!-- üëâ Le vrai conteneur du side cart -->
<div id="userSidebar" class="sidebar">
<div class="sidebar-user">
  <div id="sidebarName">
    Bonjour
  </div>
<a href="account.html" class="manage-account">G√©rer le compte</a>
</div>
<ul class="sidebar-links">
  <li><a href="/#orders">Mes commandes</a></li>
  <li><a href="cart.html">Mon panier</a></li>
  <li><a href="/#favorites">Favoris</a></li>
  <li><a href="/#refer">Parrainer</a></li>
  <li><a href="/#help">Aide</a></li>
  <li><a href="/#settings">Param√®tres</a></li>
  <li><a href="#" id="logoutBtn">Se d√©connecter</a></li>
    
  <!-- s√©parateur -->
  <li style="border-top:2px solid #eee; margin:10px 0"></li>
    
  <li><a href="/#partners">Ajouter votre restaurant</a></li>
  <li><a href="/#drivers">Inscrivez-vous pour livrer</a></li>
</ul>   

  
</div> <!-- ferme .sidebar -->
</div>
  </header>

<div class="coming-soon">
  <h1>üöß Page en pr√©paration</h1>
  <p>
    La cat√©gorie <strong>Maison</strong> est actuellement en cours de mise √† jour.  
    Notre √©quipe travaille activement pour vous proposer bient√¥t la meilleure s√©lection de produits adapt√©s.
  </p>
  <p>
    üëâ En cas de besoin urgent pour cette cat√©gorie, contactez directement notre √©quipe au :  
    <a href="tel:+33633933690" class="contact-number">06 33 93 36 90</a>
  </p>
  <p>
    Merci pour votre patience et votre confiance üíô
  </p>
</div>


<script>    
// --- R√©cup√©rer utilisateur connect√© ---
  try {
    const res = await apiFetch("/api/auth/me");
    console.log("DEBUG /me status:", res.status);
         
    if (res.ok) {
      const user = await res.json();
      console.log("üåê /me data:", user);
    
      const displayName = user.firstname || "Utilisateur";
      if (userMenu) userMenu.style.display = "flex";
      if (welcomeName) welcomeName.textContent = displayName;
      if (sidebarName) sidebarName.textContent = "Bonjour " + displayName;

      if (addressEl) addressEl.textContent = user.street || "Adresse non d√©finie";
      if (cityEl) cityEl.textContent = user.city || "Ville non d√©finie";
    } else {
      console.error("‚ùå /me pas OK:", await res.text());
    }
  } catch (err) {
    console.error("‚ùå Erreur r√©cup√©ration utilisateur:", err);
  }
  
   
</script>
</main>
<footer>
  <div class="container fcols">
    <div>
      <div class="brand" style="gap:10px;margin-bottom:8px">
        <div class="brand-badge">‚ö°Ô∏è</div><b>FlashBring</b>
      </div>
      <div>Livraison locale tout-en-un.</div>
      <div class="copy">¬© <span id="y"></span>2025 FlashBring</div>
    </div>
    <div>
      <b>Entreprise</b>
<a href="index.html#about">√Ä propos</a>
<a href="index.html#careers">Carri√®res</a>
<a href="index.html#press">Presse</a>
    </div>
    <div>
      <b>L√©gal</b>
<a href="index.html#terms">CGU</a>
<a href="index.html#privacy">Confidentialit√©</a>
<a href="index.html#cookies">Cookies</a>
    </div>
    <div>
      <b>Contact</b>
<a href="index.html#support">Support</a>
<a href="index.html#drivers">Devenir livreur</a>
<a href="index.html#partners">Devenir partenaire</a>
</div>   

  </div>
</div>
    
      
<div class="footer-support">
  <div>Service client 7j/7</div>
  <div>+33 6 33 93 36 90</div>
</div>
</footer> 
</body>
</html>
